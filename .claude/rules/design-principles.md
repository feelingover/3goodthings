# 3 Good Things - デザイン原則とUI/UXガイドライン

## プロダクトの価値提案

### 解決する問題
- 日常の忙しさの中で見過ごされがちな小さな幸せへの気づきの欠如
- ネガティブな思考パターンへの偏り
- 自己肯定感の低下
- メンタルウェルビーイングのセルフケア手法の不足

### コアバリュー
- **日常的な感謝の習慣化**: 毎日3つの良いことを記録する習慣を通じて、感謝の気持ちを育む
- **ポジティブ思考の強化**: 良いことに意識的に注目することで、ネガティブバイアスを軽減
- **AI支援によるモチベーション**: OpenAIの応援コメントによる継続的なエンゲージメント
- **アクセスバリアの排除**: オフライン対応とPWAによる、いつでもどこでもアクセス可能な設計
- **視覚的満足度**: Material Designによる美しく使いやすいインターフェース

## デザイン原則

### 1. 視覚的階層
情報の重要性に応じた明確な視覚的階層を提供する

**実装例**:
- 見出しとボディテキストの明確な差別化
- エレベーション（影）による重要度の表現
- カラーコントラストによる視線誘導

### 2. 一貫性
すべての画面で一貫したデザイン言語を使用する

**実装例**:
- Material Design 3のガイドラインに統一
- CSS変数による一元管理されたデザイントークン
- 再利用可能なコンポーネントシステム

### 3. フィードバック
ユーザーアクションに対する明確な視覚的フィードバックを提供する

**実装例**:
- ボタンクリック時のリップルエフェクト
- ローディング状態の明示（スピナー、aria-live通知）
- エラー表示のスライドインアニメーション

### 4. アクセシビリティ
様々なユーザーが使いやすいインターフェースを目指す

**実装例**:
- WAI-ARIA属性の包括的な追加
- キーボードナビゲーション完全対応
- スクリーンリーダー対応
- Skip-to-contentリンク
- 色コントラスト比の確保

### 5. エモーショナルデザイン
ユーザーに喜びや満足感を与えるデザイン要素を取り入れる

**実装例**:
- 滑らかなアニメーションとトランジション
- Material Design 3の温かみのあるカラーパレット
- ポジティブなマイクロインタラクション

## Material Design 3適用ルール

### カラーシステム

**プライマリカラー**:
```css
--md-primary: #6750A4;          /* メインアクション */
--md-primary-light: #D0BCFF;    /* ライトモードの強調 */
--md-primary-dark: #381E72;     /* ダークモードの強調 */
```

**セカンダリカラー**:
```css
--md-secondary: #625B71;        /* 補助的な要素 */
```

**サーフェスカラー**:
```css
--md-surface: #FFFBFE;          /* カード背景 */
--md-background: #F6F6F6;       /* アプリ背景 */
```

**ダークテーマ**:
- `prefers-color-scheme`による自動検出
- IndexedDBでユーザー設定を永続化
- 3つのオプション: Light / Dark / System

### タイポグラフィ

**階層的なフォントスケール**:
- 見出し1-3: 24px / 20px / 18px
- ボディテキスト: 16px
- キャプション: 14px

**視認性の重視**:
- line-height: 1.5 （読みやすさ重視）
- font-weight: 400（通常）/ 500（Medium）/ 700（Bold）

### エレベーション

**シャドウによる階層表現**:
```css
--md-shadow-1: 0px 1px 2px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
--md-shadow-2: 0px 1px 2px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15);
```

**使用例**:
- Level 0: フラットなサーフェス
- Level 1: カード、ボタン
- Level 2: ダイアログ、メニュー

### スペーシング

**8pxグリッドシステム**:
```css
--md-spacing-unit: 8px;
--md-spacing-xs: calc(var(--md-spacing-unit) * 0.5);  /* 4px */
--md-spacing-sm: var(--md-spacing-unit);               /* 8px */
--md-spacing-md: calc(var(--md-spacing-unit) * 2);    /* 16px */
--md-spacing-lg: calc(var(--md-spacing-unit) * 3);    /* 24px */
--md-spacing-xl: calc(var(--md-spacing-unit) * 4);    /* 32px */
```

### アニメーション

**標準トランジション**:
```css
--md-transition-standard: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
```

**使用例**:
- ボタンホバー、フォーカス
- カードエレベーション変化
- ダイアログ表示/非表示

## ユーザー体験の目標

### 視覚的魅力
Material Design 3に基づく美しく一貫性のあるUI

### シンプルさ
複雑な操作なしで、直感的に使えること

**実装例**:
- 入力欄は3つのみ
- 1ボタンで保存とAIコメント取得を実行

### スピード
数分以内で3つの良いことを記録完了できること

### シームレスなフロー
保存と同時にAIコメントを自動取得する統合された体験

### パーソナル
AIコメントによる個別化された応援メッセージの提供

### プライバシー
ローカルストレージによるデータ保護

## ユーザーフロー

1. アプリを開く
2. その日の3つの良いことを入力する
3. 「保存してコメントを取得」ボタンを押す
4. 自動的にAIからの応援コメントを受け取る
5. 過去の記録を振り返る（オプション）

## プロダクト哲学

### シンプルに保つ
余計な機能は追加せず、コア体験に集中する

### ユーザーの自律性
データはローカルに保存され、ユーザーが完全に管理する

### 無料アクセス
基本機能は広くアクセス可能に

### ポジティブ体験
アプリとの各インタラクションがユーザーの気分を向上させることを目指す

### 美しさと機能性の融合
見た目の美しさと使いやすさを両立させる

## Material Designから学んだこと

### 効果的な適用
- Material Design 3のカラーシステムは`color-scheme`プロパティと組み合わせると効果的
- CSS変数によるデザイントークンを変数化することでテーマ管理が容易になり保守性が向上

### テーマ管理
- `prefers-color-scheme`のmatchMediaリスナーは必ずクリーンアップが必要
- isLoadingフラグでテーマ適用前のレンダリングを防止（テーマフラッシュ防止）

### アクセシビリティ
- WAI-ARIAの`aria-live="polite"`と`assertive`の使い分けが重要
  - ローディング: `polite`
  - エラー: `assertive`

## デザインシステムの維持

### 一貫したデザインシステム
Material Designの採用により開発効率とUI品質が向上

### コンポーネント駆動開発
- 再利用可能なコンポーネント設計
- Atomic Designの原則に基づく構造
- Material Designガイドラインに準拠したUI要素

### 視覚的一貫性
すべての画面で一貫したデザイン言語を使用することで、ユーザー体験の向上
